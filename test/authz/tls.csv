user,object,relation,check,test,expect,notes

tenant:1,org:1,parent,,,,org:test-org
tenant:1,org:2,parent,,,,org:restricted-org
tenant:1,org:3,parent,,,,org:all-member
tenant:1,org:4,parent,,,,org:admins-only
tenant:1#member,org:3,viewer
tenant:2,org:5,parent,,,,org:no-one

org:1,feed:1,parent,,,,feed:1 should be viewable to members of org:1 (ian drew) and editable by org:1 editors (drew)
org:2,feed:2,parent,,,,feed:2 should be viewable to members of org:2 () and editable by org:2 editors (ian)
org:3,feed:3,parent,,,,feed:3 should be viewable to all members of tenant:1 (admin nisar ian drew) and editable by org:3 editors ()
org:4,feed:4,parent,,,,feed:4 should only be viewable to admins of tenant:1 (admin)

feed:2,feed_version:1,parent

user:admin,tenant:1,admin

user:ian,org:1,viewer
user:ian,org:2,editor
user:ian,tenant:1,member

user:drew,org:1,editor
user:drew,tenant:1,member

user:nisar,tenant:1,member
user:nisar,feed_version:1,viewer

user:admin,feed_version:1,,can_view,check,true
user:admin,feed,,can_view can_edit,list,1 2 3 4
user:admin,org,,can_view can_edit,list,1 2 3 4
user:admin,org:1,,can_view can_edit can_edit_members can_create_feed can_delete_feed,check
user:admin,org:2,,can_view can_edit can_edit_members can_create_feed can_delete_feed,check
user:admin,org:3,,can_view can_edit can_edit_members can_create_feed can_delete_feed,check
user:admin,org:4,,can_view can_edit can_edit_members can_create_feed can_delete_feed,check
user:admin,org:5,,-can_view -can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:admin,tenant:1,,can_view can_edit can_edit_members can_create_org can_delete_org,check
user:admin,tenant:2,,-can_view -can_edit -can_edit_members -can_create_org -can_delete_org,check

user:ian,feed_version:1,,can_view,check
user:ian,feed,,can_edit,list,2
user:ian,feed,,can_view,list,1 2 3
user:ian,feed:1,,can_view -can_edit -can_create_feed_version -can_delete_feed_version,check
user:ian,feed:2,,can_view can_edit can_create_feed_version can_delete_feed_version,check
user:ian,feed:3,,can_view -can_edit -can_create_feed_version -can_delete_feed_version,check
user:ian,feed:4,,-can_view -can_edit -can_create_feed_version -can_delete_feed_version,check
user:ian,feed:5,,-can_view -can_edit -can_create_feed_version -can_delete_feed_version,check
user:ian,org:1,,can_view -can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:ian,org:2,,can_view can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:ian,org:3,,can_view -can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:ian,org:4,,-can_view -can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:ian,org:5,,-can_view -can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:ian,tenant:1,,can_view -can_edit_members -can_create_org -can_delete_org,check
user:ian,tenant:2,,-can_view -can_edit_members -can_create_org -can_delete_org,check

user:drew,feed_version:1,,-can_view,check,,only feed:2 readers and nisar
user:drew,feed,,can_edit,list,1
user:drew,feed,,can_view,list,1 3
user:drew,feed:1,,can_view can_edit,check
user:drew,feed:2,,-can_view -can_edit,check
user:drew,feed:3,,can_view -can_edit,check
user:drew,feed:4,,-can_view -can_edit,check
user:drew,feed:5,,-can_view -can_edit,check
user:drew,org:1,,can_view can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:drew,org:2,,-can_view -can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:drew,org:3,,can_view -can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:drew,org:4,,-can_view -can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:drew,org:5,,-can_view -can_edit -can_edit_members -can_create_feed -can_delete_feed,check
user:drew,tenant:1,,can_view -can_edit_members -can_create_org -can_delete_org,check
user:drew,tenant:2,,-can_view -can_edit_members -can_create_org -can_delete_org,chec,

user:nisar,tenant:1,,can_view -can_edit,check
user:nisar,tenant:2,,-can_view -can_edit,check
user:nisar,feed_version:1,,can_view,check
user:nisar,feed,,can_view,list,3
user:nisar,feed:1,,-can_view -can_edit,check
user:nisar,feed:2,,-can_view -can_edit,check
user:nisar,feed:3,,can_view -can_edit,check
user:nisar,feed:4,,-can_view -can_edit,check
user:nisar,feed:5,,-can_view -can_edit,check
user:nisar,org:3,,can_view -can_edit,check
user:nisar,org:4,,-can_view -can_edit,check
user:nisar,tenant:1,,can_view -can_edit -can_edit_members -can_create_org -can_delete_org,check
user:nisar,tenant:2,,-can_view -can_edit -can_edit_members -can_create_org -can_delete_org,check

user:ian,feed_version:1,viewer,,write,
user:nisar,feed_version:1,viewer,,write,fail,already exists

user:ian,feed_version:1,viewer,,delete,
user:nisar,tenant:2,member,,delete,fail,does not exist

,tenant:1,,,get,user:admin:admin user:ian:member user:drew:member user:nisar:member
,feed_version:1,,,get,feed:2:parent user:nisar:viewer
,feed:1,,,get,org:1:parent
